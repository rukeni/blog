import HeadPost from '@components/Post/HeadPost.tsx'

<HeadPost title='React.createElement에 대하여' createdDate='2022-05-12' updatedDate='2022-05-12' estimatedTime={15} />

코드숨 1주차 강의에서 createElement를 통해서 jsx로 컴포넌트가 만들어지는 과정을 공부하였다.

> JSX는 문법적 설탕이다.(공식문서 글 [React Without JSX](https://reactjs.org/docs/react-without-jsx.html))

jsx는 변환할때 내부적으로 React.createElement를 호출하고 있었다. 
이는 정확하게 React.createElement()를 호출하는 것과 동일한 것이었다. 이 함수에 대해서 구현체와 공식문서(+블로그)를 보면서 조금더 공부해보았다.

나름대로 참고사이트를 중간에 넣었지만 중간중간 언급되지 않은 참고 사이트는 [맨아래](#1)에 적어 두었다.

### 시작
나는 간단한 컴포넌트 몇개를 만들어서 콘솔을 찍어보고 싶었다.
기준은 함수형컴포넌트로 잡고 착수하였다.(클래스형 컴포넌트의 경우 양상이 조금 다른것 같다.)

컴포넌트 구조는 다음과 같다.
- `Hello`컴포넌트가 `<div>`안에 string 문자열과 `Greeting`컴포넌트와 `Fragment`라는 컴포넌트를 소유하고 있다.

![컴포넌트 코드 이미지](/about-createElement-1.png)

`Hello` 컴포넌트콘솔의 결과물은 다음과 같다.

![콘솔 이미지](/about-createElement-2.jpeg)

혹시 직접 찍어보고 싶다면 샘플 [stackblitz주소](https://stackblitz.com/edit/react-oxagd1?file=src%2FApp.js)를 남기겠다

콘솔에 찍힌 각 프로퍼티의 의미가 무엇인지 궁금하여 구현체와 공식문서를 통해 답을 얻고자 했다.

이중_owner와 _store는 공부중이다.

- $$typeof : 객체형태로 반환되는 ReactElement를 XSS공격 등으로부터 방어하기 위해 사용하는 Symbol이다.
  - 참고 링크: [댄 아브라모프의 글](https://overreacted.io/why-do-react-elements-have-typeof-property/)
- key : 리액트가 리스트를 순회할때, 차이점이 생긴 요소만 변경을 생성하기 위해 사용
  - 참고 링크: [공식문서 Reconciliation](https://ko.reactjs.org/docs/reconciliation.html#recursing-on-children)
- props : 임의의 입력값이자 부모 컴포넌트와 상호작용할 수 있는 수단
  - children : props의 한 종류
  - 참고 링크 : [공식문서 Components and Props](https://ko.reactjs.org/docs/components-and-props.html)
- ref : render 메서드에서 생성된 DOM 노드나 ReactElement에 접근하는 방법
- type : ReactElement의 타입. 태그이름이란 React 컴포넌트 이름, React.Fragment 중 하나가 올 수 있음
- _owner : 뭔지 몰라서 찾아보니까 `ReactCurrentOwner.current`로부터 받아오는데 이게 무엇일까
- _store : ??


<a id="1">참고 사이트 목록</a> 

- 공식문서 : [React.createElement](https://reactjs.org/docs/react-api.html#createelement)
  - 한글버전은 맨앞에 서브도메인에 ko를 붙이면 된다.
